function FBQ(){return window.fbqblock||(window.fbqblock=!1),{loadFBEvents:function(){var e,n,o,t,i,l;e=window,n=document,o="script",e.fbq||(t=e.fbq=function(){t.callMethod?t.callMethod.apply(t,arguments):t.queue.push(arguments)},e._fbq||(e._fbq=t),(t.push=t).loaded=!0,t.version="2.0",t.queue=[],(i=n.createElement(o)).async=!0,i.src="//connect.facebook.net/en_US/fbevents.js",(l=n.getElementsByTagName(o)[0]).parentNode.insertBefore(i,l))},wipeFBEvents:function(){window.fbq=window._fbq=void 0},uponEmptyQueue:function(e,n,o){n||(n=100),o||(o=1e3),window.fbq||this.loadFBEvents();var t=0,i=setInterval(function(){0!==fbq.queue.length||fbqblock||(fbqblock=!0,e.shift()(),0===e.length&&clearInterval(i),fbqblock=!1),o<++t&&(console.log("Tried too many times. Limit is ",o),clearInterval(i))},n)}}}function FBQ_SETUP(e,n){if(FBQ){var o=FBQ();e?o.uponEmptyQueue([function(){o.wipeFBEvents(),o.loadFBEvents(),fbq("init",e),n()},function(){o.wipeFBEvents(),o.loadFBEvents()}]):console.log("fbpixel: Pixel must be provided to FBQ_SETUP as first parameter")}else console.log("fbqpixel: No FBQ function was found")}
